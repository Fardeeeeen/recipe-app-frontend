(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[363],{3278:function(e,t,s){Promise.resolve().then(s.bind(s,878))},878:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c},dynamic:function(){return d}});var r=s(7437),a=s(2265),n=s(9376),o=s(7648);let d="force-dynamic";function l(){let e=(0,n.useRouter)(),t=(0,n.useSearchParams)().get("token"),[s,d]=(0,a.useState)(""),[l,c]=(0,a.useState)(""),[i,u]=(0,a.useState)(""),[p,m]=(0,a.useState)(!1),h=async r=>{if(r.preventDefault(),u(""),s!==l){u("❌ Passwords do not match");return}if(!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/.test(s)){u("❌ Password must be at least 8 characters long and include uppercase, lowercase, a number, and a special character");return}m(!0);try{let r=await fetch("".concat("https://recipe-app-backend-a8du.onrender.com/api","/users/reset-password"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:t,newPassword:s})}),a=await r.json();if(!r.ok)throw Error(a.message||"Failed to reset password");u("✅ Password reset successful! Redirecting to login..."),setTimeout(()=>e.push("/login"),1500)}catch(e){u("❌ ".concat(e.message))}finally{m(!1)}};return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-100 to-pink-100 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-xl w-96",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold mb-6 text-center text-gray-800",children:"Reset Password"}),i&&(0,r.jsx)("p",{className:"text-center text-sm mb-4 text-red-500",children:i}),(0,r.jsxs)("form",{onSubmit:h,children:[(0,r.jsx)("input",{type:"password",placeholder:"Enter new password",className:"w-full px-3 py-2 border border-gray-300 rounded-md mb-3",value:s,onChange:e=>d(e.target.value),required:!0}),(0,r.jsx)("input",{type:"password",placeholder:"Confirm new password",className:"w-full px-3 py-2 border border-gray-300 rounded-md mb-3",value:l,onChange:e=>c(e.target.value),required:!0}),(0,r.jsx)("button",{type:"submit",disabled:p,className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 text-white py-2 rounded-md",children:p?"Resetting password...":"Reset Password"})]}),(0,r.jsxs)("div",{className:"mt-4 flex justify-between items-center",children:[(0,r.jsx)(o.default,{href:"/login",className:"text-blue-500 hover:text-blue-600",children:"Back to Login"}),(0,r.jsx)(o.default,{href:"/",className:"text-purple-500 hover:text-purple-600",children:"Back to Home"})]})]})})}function c(){return(0,r.jsx)(a.Suspense,{fallback:(0,r.jsx)("div",{children:"Loading..."}),children:(0,r.jsx)(l,{})})}}},function(e){e.O(0,[448,971,117,744],function(){return e(e.s=3278)}),_N_E=e.O()}]);