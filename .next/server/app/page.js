(()=>{var e={};e.id=931,e.ids=[931],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9504:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>d,routeModule:()=>m,tree:()=>c}),r(908),r(1506),r(5866);var s=r(3191),a=r(8716),i=r(7922),o=r.n(i),n=r(5231),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);r.d(t,l);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,908)),"/Users/avaamo/Recipe-project/recipe-app/frontend/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,1506)),"/Users/avaamo/Recipe-project/recipe-app/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/avaamo/Recipe-project/recipe-app/frontend/app/page.tsx"],p="/page",u={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},8247:(e,t,r)=>{Promise.resolve().then(r.bind(r,5630))},5630:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>N,dynamic:()=>b});var s=r(326),a=r(7577),i=r(5047),o=r(5302),n=r(2881);let l=(0,n.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);function c({setSearchResults:e,setSearchMessage:t}){let[r,o]=(0,a.useState)(""),[n,c]=(0,a.useState)(""),[d,p]=(0,a.useState)(!1),u=(0,i.useRouter)(),m=async s=>{if(s.preventDefault(),c(""),t(""),p(!0),!r.trim()){p(!1);return}try{let s=`https://recipe-app-backend-a8du.onrender.com/api/recipes/search?query=${encodeURIComponent(r)}`;console.log("Searching recipes at:",s);let a=await fetch(s);if(!a.ok)throw Error("Failed to fetch search results.");let i=await a.json();console.log("Search Results:",i),i.recipes&&i.recipes.length>0?e(i.recipes):i.alternativeRecipes&&i.alternativeRecipes.length>0?e(i.alternativeRecipes):e([]),t(i.message||""),u.push(`/?q=${encodeURIComponent(r)}`)}catch(e){e instanceof Error?(c("Something went wrong. Please try again."),console.error("Search error:",e.message)):(c("An unexpected error occurred."),console.error("Unknown error:",e))}finally{p(!1)}};return(0,s.jsxs)("div",{children:[s.jsx("form",{onSubmit:m,className:"mb-12",children:(0,s.jsxs)("div",{className:"relative max-w-2xl mx-auto",children:[s.jsx("input",{type:"text",className:"w-full pl-10 pr-2 py-2 text-sm sm:pl-12 sm:pr-4 sm:py-3 sm:text-base rounded-full border-2 border-purple-300 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white bg-opacity-80 backdrop-blur-sm transition duration-300 ease-in-out",placeholder:"Type in the ingredients, type of dessert or recipe you're looking for...",value:r,onChange:e=>o(e.target.value)}),s.jsx("div",{className:"absolute inset-y-0 left-0 pl-2 sm:pl-4 flex items-center pointer-events-none",children:s.jsx(l,{className:"h-5 w-5 sm:h-6 sm:w-6 text-purple-500"})}),s.jsx("button",{type:"submit",className:"absolute inset-y-0 right-0 flex items-center px-3 text-xs sm:px-6 sm:text-base text-white bg-gradient-to-r from-purple-500 to-pink-500 rounded-r-full transition duration-300 ease-in-out hover:from-purple-600 hover:to-pink-600",disabled:d,children:d?"Searching...":"Search"})]})}),n&&s.jsx("p",{className:"text-center text-3xl text-red-500 font-bold mt-4",children:n})]})}var d=r(1076);let p=(0,n.Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),u=(0,n.Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),m=["Bar","Biscuit","Brownie","Cake","Churro","Cookie","Cream Puff","Crumble","Custard","Doughnut","Fudge","Macaron","Meringue","Mousse","Muffin","Parfait","Pastry","Pavlova","Pie","Pudding","Souffl\xe9","Tart","Truffle","\xc9clair"];function x({onSelectCategory:e}){let[t,r]=(0,a.useState)(4),[i,o]=(0,a.useState)(0),n=Math.ceil(m.length/t),l=()=>{switch(t){case 1:return"w-full";case 2:return"w-1/2";case 3:return"w-1/3";default:return"w-1/4"}};return(0,s.jsxs)("div",{className:"relative w-full max-w-7xl mx-auto group mb-16",children:[s.jsx("h2",{className:"text-[1.6rem] sm:text-4xl lg:text-5xl font-bold mb-8 text-center text-gray-800 lilita-one-regular",style:{color:"#19032d"},children:"Explore Our Recipe Categories"}),(0,s.jsxs)("div",{className:"relative overflow-hidden",children:[s.jsx("div",{className:"flex transition-transform duration-500",style:{transform:`translateX(-${100*i}%)`},children:m.map((t,r)=>{let a=t.toLowerCase().replace(/\s+/g,"-");return s.jsx(d.E.div,{className:`${l()} flex-shrink-0 px-2`,initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.5},onClick:()=>e(t),children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-2xl transition transform hover:scale-105 cursor-pointer relative",children:[s.jsx("img",{src:`/images/categories/${a}.jpg`,alt:t,className:"w-full h-40 sm:h-48 md:h-56 object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-black opacity-30"}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 sm:p-6",children:s.jsx("h3",{className:"text-xl sm:text-2xl font-semibold text-white lilita-one-regular",children:t})})]})},r)})}),s.jsx("button",{onClick:()=>{o(e=>0===e?n-1:e-1)},className:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-gray-800 bg-opacity-50 text-white p-2 sm:p-3 rounded-full hover:bg-opacity-80 transition hidden group-hover:block",children:s.jsx(p,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>{o(e=>(e+1)%n)},className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-gray-800 bg-opacity-50 text-white p-2 sm:p-3 rounded-full hover:bg-opacity-80 transition hidden group-hover:block",children:s.jsx(u,{className:"w-5 h-5"})})]})]})}var h=r(325),g=r(1870),f=r(1259),v=r(294),j=r(6160),y=r(9906);let b="force-dynamic";function w(){let[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)([]),[l,d]=(0,a.useState)(""),[p,u]=(0,a.useState)(!0),[m,b]=(0,a.useState)(""),[w,N]=(0,a.useState)(!1),[k,S]=(0,a.useState)(null),C=(0,i.useRouter)();(0,i.useSearchParams)();let P=async e=>{C.push(`/?category=${encodeURIComponent(e.toLowerCase())}`),u(!0);try{let t=await fetch(`https://recipe-app-backend-a8du.onrender.com/api/recipes/search?query=${encodeURIComponent(e.toLowerCase())}`),r=await t.json();if(!t.ok)throw Error(r.message||"Failed to fetch recipes");n(r.recipes||r),d(r.message||`Showing recipes for category "${e}"`)}catch(e){e instanceof Error&&b(e.message)}finally{u(!1)}};return(0,s.jsxs)("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-purple-100 to-pink-100",children:[s.jsx(o.Z,{isLoggedIn:w,handleLogout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user_id"),N(!1),C.push("/")}}),(0,s.jsxs)("div",{className:`flex-grow ${k?"filter blur-sm":""}`,children:[(0,s.jsxs)("section",{className:"flex flex-col items-center justify-center text-center mt-20 px-6",children:[s.jsx("h2",{className:"text-[2.25rem] sm:text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-pink-600 cursor-pointer",children:"Find the Perfect Dessert Recipe"}),s.jsx("p",{className:"text-[0.8rem] sm:text-base text-gray-600 mt-3 max-w-2xl",children:"Search from a variety of delicious dessert recipes, just by giving us the ingredients you have."}),s.jsx("div",{className:"mt-6 w-full max-w-2xl",children:s.jsx(c,{setSearchResults:n,setSearchMessage:d})})]}),s.jsx("main",{className:"max-w-xl md:max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 relative z-10 flex-grow",children:r.length>0?s.jsx(h.O,{recipes:r}):p?s.jsx(g.Z,{}):m?s.jsx("p",{className:"text-center text-red-500",children:m}):s.jsx(x,{onSelectCategory:P})})]}),s.jsx(y.Z,{openModal:e=>{S(e)}}),k&&(0,s.jsxs)(f.Z,{onClose:()=>{S(null)},children:["privacy"===k&&s.jsx(v.Z,{}),"terms"===k&&s.jsx(j.Z,{})]})]})}function N(){return s.jsx(a.Suspense,{fallback:s.jsx(g.Z,{}),children:s.jsx(w,{})})}},1870:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(326);let a=()=>s.jsx("div",{className:"flex justify-center items-center min-h-screen",children:(0,s.jsxs)("svg",{width:"100",height:"100",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsxs)("g",{transform:"rotate(0 50 50)",children:[s.jsx("path",{fill:"#ffcc66",stroke:"#cc9900",strokeWidth:"2",d:"M30 70 Q50 90 70 70 L75 90 Q50 95 25 90 Z"}),s.jsx("path",{fill:"#ff99cc",stroke:"#cc6699",strokeWidth:"2",d:"M35 55 Q50 35 65 55 Q75 40 50 30 Q25 40 35 55 Z"}),s.jsx("circle",{cx:"50",cy:"28",r:"5",fill:"#ff3333"})]}),s.jsx("animateTransform",{attributeType:"XML",attributeName:"transform",type:"rotate",from:"0 50 50",to:"360 50 50",dur:"1s",repeatCount:"indefinite"})]})})},325:(e,t,r)=>{"use strict";r.d(t,{O:()=>c});var s=r(326),a=r(7577),i=r(1076),o=r(5047),n=(r(7427),r(3734)),l=r(434);function c({recipes:e,showHeading:t=!0}){let r=(0,o.useRouter)(),[c,d]=(0,a.useState)([]),[p,u]=(0,a.useState)(e),[m,x]=(0,a.useState)(!1),[h]=(0,a.useState)(!1),g=async e=>{console.warn("User not logged in; cannot save search history.")},f=e=>"object"==typeof e.average_rating?e.average_rating.average_rating||"0.0":e.average_rating?e.average_rating.toString():"0.0";return(0,s.jsxs)("div",{children:[t&&(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-l sm:text-3xl font-bold text-gray-800",children:"Here are the best Recipes for you"}),s.jsx("button",{onClick:()=>{r.push("/"),setTimeout(()=>{window.location.reload()},100)},className:"bg-purple-500 text-white px-2 py-1 text-xs sm:px-4 sm:py-2 sm:text-base rounded hover:bg-purple-600",children:"Go Back"})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-8 px-5",children:0===p.length?s.jsx("p",{className:"text-center text-gray-600",children:"No recipes found."}):p.map((e,t)=>(0,s.jsxs)(i.E.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*t},className:"relative",children:[null,(0,s.jsxs)("div",{className:"absolute top-3 right-3 z-20 flex items-center bg-black bg-opacity-70 px-2 py-1 rounded-full",children:[s.jsx(n.Z,{className:"w-5 h-5 text-yellow-400"}),s.jsx("span",{className:"text-sm font-semibold text-white ml-1",children:f(e)})]}),s.jsx(l.default,{href:`/recipe/${e.id}`,className:"block",onClick:()=>g(e),children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-2xl transition transform hover:scale-105 cursor-pointer relative",children:[s.jsx("img",{src:e.image_url||"/placeholder.svg",alt:e.name,className:"w-full h-40 sm:h-60 object-cover"}),(0,s.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-4 text-white",children:[s.jsx("h3",{className:"text-lg font-semibold truncate",children:e.name}),(0,s.jsxs)("p",{className:"text-sm",children:["⏱ ",e.cooking_time," min | ⭐ ",e.complexity]})]})]})})]},e.id))})]})}},7427:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(2881).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},3734:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(2881).Z)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},908:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i,dynamic:()=>a});var s=r(8570);let a=(0,s.createProxy)(String.raw`/Users/avaamo/Recipe-project/recipe-app/frontend/app/page.tsx#dynamic`),i=(0,s.createProxy)(String.raw`/Users/avaamo/Recipe-project/recipe-app/frontend/app/page.tsx#default`)}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[819,496,927,535],()=>r(9504));module.exports=s})();